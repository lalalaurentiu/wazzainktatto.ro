{% extends 'base.html' %}
{% load static %}
{% block header %}{% endblock %}


{% block content %}
    <style>

        .prev,
        .next,
        .close {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            margin-top: -22px;
            padding: 16px;
            color: white;
            font-weight: bold;
            font-size: 18px;
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
            background-color: rgba(0, 0, 0, 0.3);
        }

        /* Position the "next button" to the right */
        .next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }

        .close {
            right: 0;
            top: 22px;
        }

        /* On hover, add a black background color with a little bit see-through */
        .prev:hover,
        .next:hover,
        .close:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }


        /* Fading animation */
        .fade {
            animation-name: fade;
            animation-duration: 1.5s;
        }

        .active-slide {
            display: block;
            width: 100vw;
            height: 100vh;
            animation-name: fade;
            animation-duration: 1.5s;
            pointer-events: none;
            object-fit: scale-down;
        }

        @keyframes fade {
            from {
                opacity: .4
            }
            to {
                opacity: 1
            }
        }

        @media screen and(max-width: 600px) {
            .active-slide {
                width: 100%;
                height: 100%;
            }
        }
    </style>
    <!-- Slideshow container -->
    <div class="relative flex flex-wrap justify-evenly">

        <a class="close hidden" onclick="closeModal()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
            </svg>
        </a>


        <img class="Slides object-cover w-64 h-64 transition-all duration-300 ease-in-out hover:scale-150 mb-2" src="{% static 'images/banner.jpg' %}">


            <img class="Slides object-cover w-64 h-64 transition-all duration-300 ease-in-out hover:scale-150 mb-2" src="{% static 'images/banner2.jpg' %}">


                <img class="Slides object-cover w-64 h-64 transition-all duration-300 ease-in-out hover:scale-150 mb-2" src="{% static 'images/banner3.jpg' %}">


                    <img class="Slides object-cover w-64 h-64 transition-all duration-300 ease-in-out hover:scale-150 mb-2" src="{% static 'images/banner3.jpg' %}"></div>
                    <br>


                        <a class="prev hidden" onclick="plusSlides(-1)">&#10094;</a>
                        <a class="next hidden" onclick="plusSlides(1)">&#10095;</a>

                        <!-- The dots/circles -->

                        <script>
                            let slides = document.querySelectorAll(".Slides");
                            let interactionBtn = [document.querySelector('.prev'), document.querySelector('.next'), document.querySelector('.close')]
                            let slideIndex = 1;


                            // Next/previous controls
                            function plusSlides(n) {
                                showSlides(slideIndex += n);
                            }

                            // Thumbnail image controls
                            function currentSlide(n) {
                                showSlides(slideIndex = n);
                            }

                            function showSlides(n) {
                                console.log(n);
                                let i;
                                if (n > slides.length) {
                                    slideIndex = 1
                                }
                                if (n < 1) {
                                    slideIndex = slides.length
                                }

                                for (i = 0; i < slides.length; i++) {
                                    if (slides[i].classList.contains('active-slide')) {
                                        slides[i].classList.remove('active-slide');
                                    }
                                    slides[i].style.display = "none";
                                }

                                slides[slideIndex - 1].classList.add('active-slide');
                                slides[slideIndex - 1].style.display = "block";
                                slides[slideIndex - 1].scrollIntoView({block: "end"})
                                interactionBtn.forEach(element => {
                                    element.classList.remove('hidden');
                                });
                            }

                            document.querySelector('.close').addEventListener('click', () => {
                                interactionBtn.forEach(element => {
                                    element.classList.add('hidden');
                                });
                                slides.forEach(element => {
                                    element.classList.remove('active-slide');
                                    element.removeAttribute('style');
                                })
                                slides[slideIndex - 1].scrollIntoView({block: "end"})
                            })

                            slides.forEach((element, index) => {
                                element.addEventListener('click', () => {
                                    console.log(index);
                                    currentSlide(index + 1);
                                    element.removeAttribute('style');
                                })
                            });
                        </script>
                    {% endblock %}
